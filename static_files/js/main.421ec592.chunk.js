(this.webpackJsonphotelmgt=this.webpackJsonphotelmgt||[]).push([[0],{19:function(e,t,a){},32:function(e,t,a){e.exports=a(62)},37:function(e,t,a){},60:function(e,t,a){e.exports=a.p+"static/media/hotel 1.fd16f998.jpg"},62:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),l=a.n(r),s=(a(19),a(1)),m=(a(37),a(31)),c=a(3),i=a(4),u=a(6),h=a(5),d=a(7),E=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.path,n=e.submitRegistration,r=e.submitLogin,l=e.logoutHandler,s=e.resetPassword,m=e.showRoomList;return o.a.createElement("div",null,"Complete your reservation"===a?o.a.createElement(d.b,{to:"".concat(a),className:"btn btn-secondary"},a):"Make reservation"===a?o.a.createElement(d.b,{to:"/occupant-details",className:"btn btn-secondary"},a):"Forgot password ?"===a?o.a.createElement(d.b,{to:"/forgot-password",className:"btn btn-secondary"},a):"username-login"===a?o.a.createElement(d.b,{to:"".concat(a),className:"btn btn-info"},t):"roomlist"===a?o.a.createElement(d.b,{to:"".concat(a),onClick:m,className:"btn btn-info"},t):"Sign up"===t?o.a.createElement("button",{className:"btn btn-success",onClick:n},t):"Complete your reservation"===t?o.a.createElement("button",{className:"btn btn-success",onClick:r},t):"Log out"===t?o.a.createElement("button",{className:"btn btn-success",onClick:l},t):"Reset password"===t||"Book room"===t?o.a.createElement("button",{className:"btn btn-success",onClick:s},t):o.a.createElement(d.b,{to:"/",className:"btn btn-primary"},"Go Back To Homepage"))}}]),a}(o.a.Component),p=new(function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={authState:!1},n}return Object(i.a)(a,[{key:"isAuthenticated",value:function(){return this.state.authState}},{key:"changeAuthState",value:function(e){this.setState({authState:e})}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),a}(o.a.Component)),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleLogout=function(){console.log("log out")},e}return Object(i.a)(a,[{key:"render",value:function(){console.log(this.props.children);var e={fontStyle:"italic",fontWeight:"bold"};return o.a.createElement("div",{style:{backgroundColor:"teal",minHeight:"15vh",alignItems:"center"},className:"row"},o.a.createElement("div",{className:"col-4 mr-2 ml-2 mt-3"},o.a.createElement("h3",null,"Hotel Celestial")),["Home","Services","About","Contact-us"].map((function(t){return o.a.createElement("div",{key:t},o.a.createElement(d.c,{to:"Home"!==t?t:"/",className:"text-center mr-2 mb-2 mt-3 btn btn-info",activeStyle:e},t))})),o.a.createElement("div",{className:"col-4 text-right mt-3 ml-5"},p.isAuthenticated()?o.a.createElement(E,{action:"Log out",logoutHandler:this.handleLogout}):o.a.createElement("div",null)))}}]),a}(o.a.Component),v=function(e){var t=e.component,a=e.path,n=Object(m.a)(e,["component","path"]);return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(g,null),o.a.createElement(s.b,Object.assign({},n,{render:function(e){return o.a.createElement(s.b,{path:"/".concat(a),component:t})}})))))},b=function(e){var t=o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(E,{path:"Complete your reservation"})),o.a.createElement("div",{className:"col"},o.a.createElement(E,{path:"Make reservation"})));return"/"===e.match.path?o.a.createElement("div",{className:"",style:{justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:" col"},o.a.createElement(g,null))),o.a.createElement("div",null,t),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5"}),o.a.createElement("h1",{className:"col- mt-5"},"Homepage"))):o.a.createElement("div",null,t)},f=a(11),N=a.n(f),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.loginForm;t[e.target.name]=e.target.value,n.setState({loginForm:t}),n.populateLoginFormDetails(e.target.name,e.target.value)},n.handleLogin=function(){N.a.post("http://127.0.0.1:8000/auth/login/",n.state.loginFormDetails).then((function(e){n.setState({allowLogin:!0}),p.changeAuthState(n.state.allowLogin)})).catch((function(e){return n.setState({loginFormErrors:e.response.data})}))},n.state={loginForm:{Email:"",Password:""},loginFormDetails:{},formErrors:{},allowLogin:!1,loginFormErrors:{}},n}return Object(i.a)(a,[{key:"populateLoginFormDetails",value:function(e,t){var a=this.state.loginFormDetails;a[e]=t,this.setState({loginFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.loginForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Log in:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":"password",placeholder:a>2?"Ensure both password fields are the same":"",name:t,value:e.state.loginForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mr-4 mb-3 mt-3"},o.a.createElement(E,{action:"Log in",submitLogin:this.handleLogin,path:"dashboard"})),o.a.createElement("div",{className:"col ml-3 mb-3 mt-3"},o.a.createElement(E,{path:"Forgot password ?"}))),o.a.createElement("div",{className:"row mt-3"},o.a.createElement("div",{className:"col-10 mb-2 ml-5"},o.a.createElement(E,{action:"Log in with username instead",path:"username-login",resetPassword:this.handleResetPassword}))))))}}]),a}(o.a.Component),w=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Dashboard"))},F=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.signupForm;t[e.target.name]=e.target.value,n.setState({signupForm:t}),n.populateSignupFormDetails(e.target.name,e.target.value)},n.handleSignup=function(e){console.log("\n\t Props: signing in..."),N.a.post("http://localhost:8000/auth/registration/",n.state.signupFormDetails).then((function(e){n.setState({allowSignin:!0}),p.changeAuthState(n.state.allowSignin),console.log(e.data)})).catch((function(e){n.setState({signupFormErrors:e.response.data}),console.log(e.response.data)}))},n.state={signupForm:{Firstname:"",Lastname:"",Email:"",Password:"","Confirm password":""},signupFormDetails:{},signupFormErrors:{},allowSignin:!1},n}return Object(i.a)(a,[{key:"populateSignupFormDetails",value:function(e,t){var a=this.state.signupFormDetails;a[e]=t,this.setState({signupFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.signupForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Sign up:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.signupFormErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":a<=1?"text":"password",placeholder:a>2?"Ensure both password fields are the same.":"",name:t,value:e.state.signupForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"mb-3 mt-3"},o.a.createElement(E,{action:"Sign up",submitRegistration:this.handleSignup,path:"dashboard"})))),o.a.createElement("div",null,!0===this.state.allowSignin?o.a.createElement(v,{path:"/dashboard",component:w}):o.a.createElement(s.a,{to:"/signin"})))}}]),a}(o.a.Component),R=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row",style:{fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif",backgroundColor:"aquamarine",minHeight:"100vh",fontWeight:"bold",fontStyle:"italic"}},o.a.createElement("div",{className:"col-4 mt-5 mb-5"}),o.a.createElement("div",{className:"col-4 mt-5"},o.a.createElement("h1",null,"PAGE NOT FOUND"),o.a.createElement("div",{className:"ml-5 col-8"},o.a.createElement(E,null)))))},C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(){},n.handleResetPassword=function(){N.a.post("http<//127.0.0.1:8000/auth/reset-password",n.state.Email).then((function(e){n.setState({allowReset:!0}),p.changeAuthState(n.state.allowReset)})).catch((function(e){n.setState({formErrors:e.response.data})}))},n.state={Email:"",allowReset:!1,formErrors:{}},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-5 mt-5"})),o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-4 ml-5"}),o.a.createElement("div",{className:"col-3 ml-4"},o.a.createElement("h2",null,"Password Reset:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-3 mr-5"}),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-5 form-group"},o.a.createElement("h5",{className:"mt-2"},"Email:"),this.state.formErrors.Email,o.a.createElement("input",{className:"form-control mb-3",type:"email",name:"Email",onChange:this.handleChange,placeholder:"Please enter the email-address you provided upon registration.",value:this.state.Email}),o.a.createElement("div",{className:"row mb-2 mt-2"},o.a.createElement("div",{className:"col-6"},o.a.createElement(E,{action:"Reset password"})),o.a.createElement("div",{className:"col ml-4"},o.a.createElement(E,{action:"Log in with username instead",path:"username-login",resetPassword:this.handleResetPassword}))))))}}]),a}(o.a.Component),S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.loginForm;t[e.target.name]=e.target.value,n.setState({loginForm:t}),n.populateLoginFormDetails(e.target.name,e.target.value)},n.handleLogin=function(){N.a.post("http://127.0.0.1:8000/auth/login/",n.state.loginFormDetails).then((function(e){n.setState({allowLogin:!0}),p.changeAuthState(n.state.allowLogin)})).catch((function(e){return n.setState({loginFormErrors:e.response.data})}))},n.state={loginForm:{Username:"",Password:""},loginFormDetails:{},formErrors:{},allowLogin:!1,loginFormErrors:{}},n}return Object(i.a)(a,[{key:"populateLoginFormDetails",value:function(e,t){var a=this.state.loginFormDetails;a[e]=t,this.setState({loginFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.loginForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Log in:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":"password",placeholder:a>2?"Ensure both password fields are the same":"",name:t,value:e.state.loginForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mr-4 mb-3 mt-3"},o.a.createElement(E,{action:"Log in",submitLogin:this.handleLogin,path:"dashboard"})),o.a.createElement("div",{className:"col ml-3 mb-3 mt-3"},o.a.createElement(E,{path:"Forgot password ?"}))))))}}]),a}(o.a.Component),k=(a(60),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.roomReservationForm;t[e.target.name]=e.target.value,n.setState({roomReservationForm:t}),n.updateReservationDetails(e.target.name,e.target.value)},n.handleShowRoomList=function(e){e.preventDefault(),N.a.post("http://localhost:8000/hotels/create-occupant/",{firstname:n.state.roomReservationDetails.Firstname,lastname:n.state.roomReservationDetails.Lastname,email:n.state.roomReservationDetails.Email,phone:n.state.roomReservationDetails.Phone,duration:n.state.roomReservationDetails.Duration}).then((function(e){console.log("\n\t Status: ",e.status),n.setState({toggleRoomListDisplay:!0})})).catch((function(e){console.log("\n\t There were errors..."),n.setState({formErrorDetails:e.response.data}),console.log("\n\t Errors: ",e.response.data),console.log("\n\t State Errors: ",n.state.formErrorDetails)}))},n.state={roomReservationForm:{Firstname:"",Lastname:"",Email:"",Phone:"",Duration:""},roomReservationDetails:{},formErrorDetails:{},toggleRoomListDisplay:!1},n}return Object(i.a)(a,[{key:"updateReservationDetails",value:function(e,t){var a=this.state.roomReservationDetails;a[e]=t,this.setState({roomReservationDetails:a}),console.log("\n\t Details: ",this.state.roomReservationDetails)}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.roomReservationForm)t.push(a);return o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-3"},o.a.createElement("div",{className:"col-2 ml-3 mr-5 mt-5"}),o.a.createElement("div",{className:"col-5 ml-5"},o.a.createElement("h3",{className:"col- mt-5 ml-5"},"Please fill in the required details to see the available rooms."))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 ml-2 mr-1"}),o.a.createElement("div",{style:{backgroundColor:"peru",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-4 m-3 form-group"},t.map((function(t){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrorDetails["".concat(t.toLowerCase())]),"Room-type"!==t?o.a.createElement("input",{className:"pl-2 mb-3 form-control",type:"Email"===t?"email":"Phone"===t?"tel":"Duration"===t?"number":"text",min:"Duration"===t?1:"",onChange:e.handleChange,value:e.state.roomReservationForm[t],name:t,placeholder:"Duration"===t?"Please, how long are you staying?":"Email"===t?"Please enter an active email address":"Lastname"===t?"Your surname, please.":""}):o.a.createElement("select",{className:"form-control",name:t,onChange:e.handleChange,value:e.state.roomReservationForm[t]},o.a.createElement("option",{value:""},"Select room type"),e.state.roomType.map((function(t,a){return o.a.createElement("option",{key:a,value:t},""===e.state.roomReservationForm.Cost?t.concat(" ","-"," ","#",e.state.roomPrice[a]):t)}))))})),o.a.createElement("div",{className:"mb-2"},o.a.createElement(E,{action:"Available Rooms",path:"roomlist",showRoomList:this.handleShowRoomList})))),!0===this.state.toggleRoomListDisplay?o.a.createElement(s.a,{to:{pathname:"/roomlist",state:{room_type:this.state.roomReservationForm["Room-type"]}}}):o.a.createElement(s.a,{to:"/occupant-details"}))}}]),a}(o.a.Component)),D=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={listOfRooms:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.a.get("http://127.0.0.1:8000/hotels/roomslist/").then((function(t){e.setState({listOfRooms:t.data}),console.log("\n\t Rooms: ",t.data)})).catch((function(t){e.setState({listOfRooms:"There are no available rooms yet"})}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.listOfRooms?o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,"Available Rooms:"),o.a.createElement("table",{className:"table table-striped table-hover"},o.a.createElement("thead",null,o.a.createElement("tr",null,["Room type","Room price","Room number","Status"].map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,this.state.listOfRooms.map((function(e){return o.a.createElement("tr",{key:e.id,className:"mt-2"},o.a.createElement("td",null,e.room_type),o.a.createElement("td",null,e.room_price),o.a.createElement("td",null,e.room_number),o.a.createElement("td",null,e.room_status),o.a.createElement(E,{action:"Book room"}))}))))):o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"There are no available rooms yet")))}}]),a}(o.a.Component),O=function(){return o.a.createElement("div",null,o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",exact:!0,component:b}),o.a.createElement(s.b,{path:"/login",component:y}),o.a.createElement(s.b,{path:"/signin",component:F}),o.a.createElement(s.b,{path:"/forgot-password",component:C}),o.a.createElement(s.b,{path:"/username-login",component:S}),o.a.createElement(s.b,{path:"/occupant-details",component:k}),o.a.createElement(s.b,{path:"/roomlist",component:D}),o.a.createElement(s.b,{component:R})))},j=function(){return o.a.createElement("div",{className:" img App"},o.a.createElement(s.d,null,o.a.createElement(O,{exact:!0}),o.a.createElement(v,null)))};a(61);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,null,o.a.createElement(j,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.421ec592.chunk.js.map